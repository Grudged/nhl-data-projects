<div class="app-container">
  <!-- Header Component -->
  <app-header 
    [selectedSport]="selectedSport"
    (sportChange)="setSport($event)"
    (tabChange)="setNFLTab($event)">
  </app-header>

  <!-- Controls Component -->
  <app-controls
    [selectedSport]="selectedSport"
    [selectedSeasonType]="selectedSeasonType"
    [selectedLeagueSeason]="selectedLeagueSeason"
    [selectedOwner]="selectedOwner"
    [searchTerm]="searchTerm"
    [sortBy]="sortBy"
    [sortDirection]="sortDirection"
    (sportChange)="setSport($event)"
    (seasonTypeChange)="setSeasonType($event)"
    (leagueSeasonChange)="setLeagueSeason($event)"
    (ownerChange)="setOwner($event)"
    (searchTermChange)="searchTerm = $event"
    (sortByChange)="sortBy = $event"
    (sortDirectionToggle)="toggleSortDirection()">
  </app-controls>

  <!-- NHL Statistics Overview -->
  <app-stats-overview 
    *ngIf="selectedSport === 'nhl'"
    [nhlData]="getFilteredAndSortedNHLData()">
  </app-stats-overview>

  <!-- NFL Two-Column Layout for Players Tab -->
  <div *ngIf="selectedSport === 'nfl' && selectedNFLTab === 'players'" class="nfl-layout">
    <div class="nfl-left-column">
      <app-fantasy-team 
        [selectedOwner]="selectedOwner"
        [fantasyTeam]="getFantasyTeam()"
        (removePlayer)="removePlayerFromTeam($event)">
      </app-fantasy-team>
    </div>
    
    <div class="nfl-right-column">
      <app-nfl-table 
        [nflData]="getFilteredAndSortedNFLData()"
        [sortBy]="sortBy"
        [sortDirection]="sortDirection"
        [selectedOwner]="selectedOwner"
        (sortChange)="sort($event)"
        (addPlayer)="addPlayerToTeam($event)"
        (removePlayer)="removePlayerFromTeam($event)">
      </app-nfl-table>
    </div>
  </div>
  
  <!-- NFL Draft Board -->
  <div *ngIf="selectedSport === 'nfl' && selectedNFLTab === 'draft'" class="draft-board-container">
    <app-draft-board
      [nflData]="getFilteredAndSortedNFLData()"
      [selectedOwner]="selectedOwner"
      [owners]="owners"
      (ownerChange)="setOwner($event)"
      (addPlayer)="addPlayerToTeam($event)"
      (removePlayer)="removePlayerFromTeam($event)">
    </app-draft-board>
  </div>

  <!-- NHL Table -->
  <app-nhl-table 
    *ngIf="selectedSport === 'nhl'"
    [nhlData]="getFilteredAndSortedNHLData()"
    [sortBy]="sortBy"
    [sortDirection]="sortDirection"
    (sortChange)="sort($event)">
  </app-nhl-table>

  <!-- Loading Component -->
  <app-loading 
    *ngIf="isLoading"
    [selectedSport]="selectedSport">
  </app-loading>

  <!-- No Data Component -->
  <app-no-data 
    *ngIf="!isLoading && getCurrentData().length === 0"
    [selectedSport]="selectedSport"
    [selectedLeagueSeason]="selectedLeagueSeason"
    [seasonTypeLabel]="getSeasonTypeLabel()">
  </app-no-data>
</div>